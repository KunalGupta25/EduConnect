<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EduConnect - Smart Attendance</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <script>
    // Enable class-based dark mode in Tailwind CDN
    try { tailwind.config = { darkMode: 'class' }; } catch (_) {}
  </script>
  <script>
    // Tailwind dark mode (class-based) and initial theme without FOUC
    window.__setInitialTheme = function() {
      try {
        const stored = localStorage.getItem('theme');
        const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (stored === 'dark' || (!stored && preferDark)) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      } catch (_) {}
    };
    __setInitialTheme();
    window.toggleTheme = function() {
      const isDark = document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    };
  </script>
  <link rel="manifest" href="/static/manifest.json">
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100">
  <!-- Navbar -->
  <header class="bg-white/80 dark:bg-gray-900/70 backdrop-blur shadow sticky top-0 z-20">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <a href="/" class="flex items-center gap-2">
        <i data-feather="user-check" class="w-5 h-5 text-orange-600"></i>
        <h1 class="text-lg sm:text-xl font-bold text-orange-600">EduConnect</h1>
      </a>
      <nav class="hidden md:flex items-center gap-4 text-sm">
        <a href="#features" class="hover:text-orange-600">Features</a>
        <a href="#how" class="hover:text-orange-600">How it works</a>
        <a href="#about" class="hover:text-orange-600">About</a>
        <button type="button" onclick="toggleTheme()" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800">
          <i data-feather="moon" class="w-4 h-4"></i><span>Theme</span>
        </button>
        <a href="/auth" class="bg-orange-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-700">Login / Register</a>
      </nav>
      <div class="md:hidden flex items-center gap-2">
        <button type="button" onclick="toggleTheme()" class="inline-flex items-center gap-1 px-2 py-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800">
          <i data-feather="moon" class="w-4 h-4"></i>
        </button>
        <a href="/auth" class="inline-flex items-center gap-2 bg-orange-600 text-white px-3 py-2 rounded-lg text-sm font-semibold hover:bg-orange-700">
          <i data-feather\="log-in" class="w-4 h-4"></i> Login
        </a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-orange-600 via-orange-500 to-amber-400 dark:from-orange-700 dark:via-orange-600 dark:to-amber-500"></div>
    <svg class="absolute inset-x-0 -bottom-20 w-full h-40 text-white/20" viewBox="0 0 1440 320" fill="currentColor" aria-hidden="true">
      <path d="M0,192L40,176C80,160,160,128,240,138.7C320,149,400,203,480,213.3C560,224,640,192,720,170.7C800,149,880,139,960,122.7C1040,107,1120,85,1200,106.7C1280,128,1360,192,1400,224L1440,256L1440,0L1400,0C1360,0,1280,0,1200,0C1120,0,1040,0,960,0C880,0,800,0,720,0C640,0,560,0,480,0C400,0,320,0,240,0C160,0,80,0,40,0L0,0Z"></path>
    </svg>
    <div class="relative max-w-7xl mx-auto px-6 py-20 text-white">
      <div class="max-w-3xl">
        <h2 class="text-4xl sm:text-5xl font-extrabold leading-tight">Automated Attendance for Rural Schools</h2>
        <p class="mt-4 text-lg/relaxed text-white/90">Face Recognition, Geofencing (100m), Real-time Alerts, and Offline-first syncing. Simple, fast, and reliable.</p>
        <div class="mt-8 flex flex-wrap gap-3">
          <a href="/dashboard" class="inline-flex items-center gap-2 bg-white text-orange-600 px-5 py-3 rounded-xl font-semibold shadow hover:bg-gray-100">
            <i data-feather="layout" class="w-4 h-4"></i> Open Teacher Dashboard
          </a>
          <a href="/auth" class="inline-flex items-center gap-2 bg-orange-700/90 hover:bg-orange-800 px-5 py-3 rounded-xl font-semibold">
            <i data-feather="user" class="w-4 h-4"></i> Login / Register
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Bento Grid -->
  <section id="features" class="py-16">
    <div class="max-w-7xl mx-auto px-6">
      <h3 class="text-2xl font-bold text-center mb-10">Everything you need to run attendance smoothly</h3>

      <!-- Bento container -->
      <div class="grid grid-cols-1 md:grid-cols-6 auto-rows-[1fr] gap-5">
        <!-- Big: Live Camera / Mark Attendance preview -->
        <div class="md:col-span-3 md:row-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col">
          <div class="flex items-center justify-between mb-4">
            <h4 class="font-semibold text-orange-600 flex items-center gap-2"><i data-feather="camera" class="w-4 h-4"></i> Face Verification</h4>
            <span class="text-xs bg-orange-50 text-orange-700 px-2 py-1 rounded">Liveness + Match</span>
          </div>
          <div class="flex-1 rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
            <div class="text-center">
              <div class="mx-auto w-40 h-24 bg-gray-300 rounded-lg mb-3"></div>
              <p class="text-sm text-gray-600">Secure, accurate, and fast face checks</p>
            </div>
          </div>
          <div class="mt-4 flex gap-2">
            <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded inline-flex items-center gap-1"><i data-feather="check-circle" class="w-3 h-3"></i> Anti-Proxy</span>
            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">Edge-ready</span>
          </div>
        </div>

        <!-- Geofencing -->
        <div class="md:col-span-3 bg-white dark:bg-gray-800 rounded-2xl shadow p-6">
          <h4 class="font-semibold text-orange-600 mb-2 flex items-center gap-2"><i data-feather="map-pin" class="w-4 h-4"></i> 100m Geofencing</h4>
          <p class="text-sm text-gray-700">Students beyond 100 meters from the teacher location cannot mark attendance. Both teacher and student receive real-time alerts.</p>
          <div class="mt-4 h-24 rounded-lg bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-100 flex items-center justify-center text-xs text-orange-700">Proximity enforced for fairness</div>
        </div>

        <!-- Offline-first -->
        <div class="md:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow p-6">
          <h4 class="font-semibold text-orange-600 mb-2 flex items-center gap-2"><i data-feather="wifi-off" class="w-4 h-4"></i> Offline-first</h4>
          <p class="text-sm text-gray-700">Records are saved locally and synced when online. Reliable in low-connectivity areas.</p>
        </div>

        <!-- Realtime Alerts -->
        <div class="md:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow p-6">
          <h4 class="font-semibold text-orange-600 mb-2 flex items-center gap-2"><i data-feather="bell" class="w-4 h-4"></i> Real-time Alerts</h4>
          <p class="text-sm text-gray-700">Teachers get instant notifications for geofence violations and manual attendance requests.</p>
        </div>

        <!-- Reports -->
        <div class="md:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow p-6">
          <h4 class="font-semibold text-orange-600 mb-2 flex items-center gap-2"><i data-feather="file-text" class="w-4 h-4"></i> Smart Reports</h4>
          <p class="text-sm text-gray-700">Auto-generated daily sheets and monthly summaries ready for compliance.</p>
        </div>

        <!-- Simple Actions -->
        <div class="md:col-span-3 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex items-center justify-between">
          <div>
            <h4 class="font-semibold text-gray-900">Start using it now</h4>
            <p class="text-sm text-gray-600">No training required. Works on laptops and budget phones.</p>
          </div>
          <div class="flex gap-3">
            <a href="/dashboard" class="inline-flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-700">
              <i data-feather="play" class="w-4 h-4"></i> Teacher Dashboard
            </a>
            <a href="/auth" class="inline-flex items-center gap-2 border border-orange-200 text-orange-700 px-4 py-2 rounded-lg font-semibold hover:bg-orange-50">
              <i data-feather="user" class="w-4 h-4"></i> Login / Register
            </a>
          </div>
        </div>

        <!-- Security -->
        <div class="md:col-span-3 bg-white dark:bg-gray-800 rounded-2xl shadow p-6">
          <h4 class="font-semibold text-orange-600 mb-2 flex items-center gap-2"><i data-feather="shield" class="w-4 h-4"></i> Secure by design</h4>
          <p class="text-sm text-gray-700">Passwords are hashed; face encodings are stored securely; SSL DB connection.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section id="how" class="py-10">
    <div class="max-w-5xl mx-auto px-6">
      <h3 class="text-2xl font-bold text-center mb-6">How it works</h3>
      <ol class="grid sm:grid-cols-3 gap-4 text-sm">
        <li class="bg-white rounded-xl shadow p-4"><span class="font-semibold">1. Set teacher location</span><br />Open dashboard → Set Location.</li>
        <li class="bg-white rounded-xl shadow p-4"><span class="font-semibold">2. Students verify face</span><br />Geofencing + liveness enforced.</li>
        <li class="bg-white rounded-xl shadow p-4"><span class="font-semibold">3. Sync & report</span><br />Teacher sees live summary and exports reports.</li>
      </ol>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="py-16">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <h3 class="text-2xl font-bold mb-4">About the Project</h3>
      <p>
        Developed for <strong>SIH25012 – Automated Attendance System for Rural Schools</strong>.<br />
        Designed to save time, improve accuracy, and ensure transparent government reporting.<br />
        Powered by <span class="text-orange-600 font-semibold">Face Recognition + Flask + Socket.IO</span>.
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-orange-600 text-white py-6 mt-10">
    <div class="max-w-7xl mx-auto px-6 text-center space-y-3">
      <p>&copy; 2025 Smart Attendance System | Built for Rural Education</p>
      <button id="pwa-install-btn" class="hidden inline-flex items-center gap-2 bg-white text-orange-700 hover:bg-gray-100 px-4 py-2 rounded-lg font-semibold shadow dark:bg-gray-100 dark:text-orange-700">
        <i data-feather="download" class="w-4 h-4"></i>
        <span>Install app</span>
      </button>
    </div>
  </footer>

  <script>
    // Register service worker (PWA)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/static/service-worker.js', { type: 'module' }).catch(() => {});
    }

    // Handle PWA install prompt
    let deferredPrompt = null;
    const installBtn = document.getElementById('pwa-install-btn');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      // Show button when prompt is available
      installBtn.classList.remove('hidden');
    });

    installBtn?.addEventListener('click', async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      if (outcome === 'accepted') {
        installBtn.classList.add('hidden');
      }
      deferredPrompt = null;
    });

    // Replace icons
    feather.replace();
  </script>
</body>
</html>